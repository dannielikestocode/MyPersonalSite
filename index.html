<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Landing Page</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <style>
    html, body {
      height: 100%;
    }
    body {
      margin: 0;
      background: #000 url('images/background/8bit-studio-ghibli.jpg') center center / cover no-repeat fixed;
    }
</style>
</head>
<body data-theme="dark">
  <!-- Desktop icons grid -->
  <div id="desktop-grid" class="desktop-grid" aria-label="Desktop Shortcuts">
    <!-- Desktop-style icon linking to LinkedIn -->
    <a class="desktop-icon" href="https://www.linkedin.com" target="_blank" rel="noopener" aria-label="Open LinkedIn">
      <img src="images/shortcutIcons/LinkedIn.png" alt="LinkedIn Icon">
      <span>LinkedIn</span>
    </a>

    <!-- Dannie's Trailhead desktop shortcut -->
    <a class="desktop-icon" href="https://trailhead.salesforce.com" target="_blank" rel="noopener" aria-label="Open Dannie's Trailhead">
      <img src="images/shortcutIcons/Salesforce.png" alt="Trailhead Icon">
      <span>Trailhead</span>
    </a>

    <!-- GitHub desktop shortcut -->
    <a class="desktop-icon" href="https://github.com" target="_blank" rel="noopener" aria-label="Open GitHub">
      <img src="images/shortcutIcons/GitHub.png" alt="GitHub Icon">
      <span>GitHub</span>
    </a>

    <!-- Azure desktop shortcut -->
    <a class="desktop-icon" href="https://portal.azure.com" target="_blank" rel="noopener" aria-label="Open Azure">
      <img src="images/shortcutIcons/Azure.png" alt="Azure Icon">
      <span>Azure</span>
    </a>

    <!-- Calculator desktop shortcut -->
    <button class="desktop-icon" id="calc-shortcut" type="button" aria-label="Open Calculator">
      <img src="images/shortcutIcons/Calculator.png" alt="Calculator Icon">
      <span>Calculator</span>
    </button>
  </div>

  <!-- MacOS-like window container for Calculator -->
  <div class="window hidden" id="calculator-window" role="dialog" aria-modal="false" aria-labelledby="calc-title" style="top: 100px; left: 100px;">
    <div class="titlebar" id="calc-drag">
      <div class="traffic-lights">
        <button class="traffic close" aria-label="Close"></button>
        <button class="traffic minimize" aria-label="Minimize"></button>
        <button class="traffic maximize" aria-label="Maximize"></button>
      </div>
      <div class="title" id="calc-title">Calculator</div>
    </div>
    <div class="window-content">
      <div class="calculator" id="calculator">
        <input class="display" id="calc-display" type="text" value="0" readonly>
        <div class="keys">
          <button data-action="clear">AC</button>
          <button data-action="sign">±</button>
          <button data-action="percent">%</button>
          <button data-op="divide" class="op">÷</button>

          <button>7</button>
          <button>8</button>
          <button>9</button>
          <button data-op="multiply" class="op">×</button>

          <button>4</button>
          <button>5</button>
          <button>6</button>
          <button data-op="minus" class="op">−</button>

          <button>1</button>
          <button>2</button>
          <button>3</button>
          <button data-op="plus" class="op">+</button>

          <button class="zero">0</button>
          <button>.</button>
          <button data-action="equals" class="equals">=</button>
        </div>
      </div>
    </div>
  </div>

  <style>
    /* Desktop grid for icons */
    .desktop-grid {
      position: absolute;
      top: 24px;
      left: 24px;
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(96px, 1fr));
      grid-auto-flow: row;
      grid-auto-rows: minmax(96px, auto);
      gap: 20px 24px;
      width: min(1024px, calc(100vw - 48px));
      max-width: 100%;
      pointer-events: none; /* allow windows to pass through by default */
    }
    .desktop-grid .desktop-icon {
      position: relative;
      pointer-events: auto; /* re-enable for icons */
    }

    .desktop-icon {
      width: 96px;
      text-decoration: none;
      color: #fff;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      text-align: center;
      user-select: none;
      background: transparent;
      border: 0;
      cursor: pointer;
    }
    .desktop-icon img {
      width: 64px;
      height: 64px;
      object-fit: cover;
      image-rendering: pixelated;
      border-radius: 12px;
      transition: transform 120ms ease, box-shadow 120ms ease, filter 120ms ease;
    }
    .desktop-icon span {
      display: block;
      margin-top: 8px;
      font-size: 14px;
      text-shadow: 0 2px 4px rgba(0,0,0,0.8);
    }
    .desktop-icon:hover img,
    .desktop-icon:focus img {
      transform: translateY(-2px) scale(1.03);
      filter: brightness(1.1);
    }
    .desktop-icon:active img {
      transform: translateY(0) scale(0.98);
    }

    /* MacOS-like window */
    .window {
      position: absolute;
      width: 320px;
      background: rgba(32,32,32,0.9);
      backdrop-filter: blur(6px);
      border: 1px solid rgba(255,255,255,0.12);
      border-radius: 12px;
      box-shadow: 0 16px 40px rgba(0,0,0,0.6);
      color: #eaeaea;
      overflow: hidden;
      z-index: 1000;
    }
    .hidden { display: none; }
    .titlebar {
      display: flex;
      align-items: center;
      gap: 8px;
      height: 32px;
      padding: 0 12px;
      background: linear-gradient(180deg, rgba(60,60,60,0.9), rgba(40,40,40,0.9));
      -webkit-app-region: drag;
      cursor: move;
    }
    .traffic-lights {
      display: flex;
      gap: 8px;
    }
    .traffic {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      border: 0;
      padding: 0;
    }
    .traffic.close { background: #ff5f57; }
    .traffic.minimize { background: #ffbd2e; }
    .traffic.maximize { background: #28c840; }
    .title {
      margin-left: 8px;
      font-size: 13px;
      color: #ddd;
    }
    .window-content {
      padding: 12px;
      background: rgba(24,24,24,0.9);
    }

    /* Calculator styles */
    .calculator {
      width: 100%;
    }
    .display {
      width: 100%;
      height: 56px;
      font-size: 28px;
      text-align: right;
      padding: 8px 12px;
      margin-bottom: 10px;
      border-radius: 8px;
      border: 1px solid rgba(255,255,255,0.15);
      background: rgba(0,0,0,0.4);
      color: #fff;
    }
    .keys {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 8px;
    }
    .keys button {
      height: 44px;
      border-radius: 8px;
      border: 1px solid rgba(255,255,255,0.12);
      background: linear-gradient(180deg, rgba(80,80,80,0.9), rgba(50,50,50,0.9));
      color: #fff;
      font-size: 18px;
      cursor: pointer;
      transition: transform 80ms ease, filter 120ms ease;
    }
    .keys button:active {
      transform: scale(0.98);
      filter: brightness(0.9);
    }
    .keys .op {
      background: linear-gradient(180deg, rgba(255,149,0,0.95), rgba(230,120,0,0.95));
      border: 1px solid rgba(255,180,100,0.6);
    }
    .keys .equals {
      background: linear-gradient(180deg, rgba(0,140,255,0.95), rgba(0,110,210,0.95));
      border: 1px solid rgba(120,190,255,0.6);
    }
    .keys .zero {
      grid-column: span 2;
    }
  </style>

  <style>
    /* --- MacOS-like Utility Bar (Dock) --- */
    .utility-bar {
      position: fixed;
      left: 50%;
      bottom: 18px;
      transform: translateX(-50%);
      display: flex;
      align-items: flex-end;
      gap: 18px;
      padding: 10px 14px;
      background: rgba(30,30,30,0.35);
      border: 1px solid rgba(255,255,255,0.14);
      border-radius: 16px;
      backdrop-filter: blur(8px) saturate(120%);
      box-shadow: 0 20px 40px rgba(0,0,0,0.45), inset 0 1px 0 rgba(255,255,255,0.12);
      z-index: 2000;
    }
    .utility-item {
      --size: 54px;
      width: var(--size);
      height: var(--size);
      border-radius: 12px;
      display: grid;
      place-items: center;
      color: #fff;
      text-decoration: none;
      border: 1px solid rgba(255,255,255,0.14);
      background: linear-gradient(180deg, rgba(70,70,70,0.75), rgba(35,35,35,0.75));
      box-shadow: 0 6px 18px rgba(0,0,0,0.45), inset 0 1px 0 rgba(255,255,255,0.08);
      cursor: pointer;
      transition: transform 140ms ease, box-shadow 140ms ease, filter 140ms ease, background 140ms ease;
      user-select: none;
    }
    .utility-item span {
      font-size: 12px;
      font-weight: 600;
      letter-spacing: 0.2px;
    }
    .utility-item:hover {
      transform: translateY(-6px) scale(1.06);
      box-shadow: 0 14px 28px rgba(0,0,0,0.55);
      filter: brightness(1.08);
    }
    .utility-sep {
      width: 1px;
      height: 44px;
      background: linear-gradient(180deg, rgba(255,255,255,0.25), rgba(255,255,255,0.08));
      margin: 0 6px;
    }

    /* Light/Dark theme toggles via data-theme on body */
    body[data-theme="light"] {
      background: #e6e6e6;
      color: #111;
    }
    body[data-theme="light"] .desktop-icon span { color: #111; text-shadow: 0 2px 4px rgba(255,255,255,0.8); }
    body[data-theme="light"] .window { color: #111; background: rgba(255,255,255,0.9); border-color: rgba(0,0,0,0.15); }
    body[data-theme="light"] .titlebar { background: linear-gradient(180deg, rgba(235,235,235,0.95), rgba(215,215,215,0.95)); }
    body[data-theme="light"] .display { background: rgba(255,255,255,0.8); color: #111; border-color: rgba(0,0,0,0.15); }
    body[data-theme="light"] .utility-bar { background: rgba(255,255,255,0.6); border-color: rgba(0,0,0,0.12); }
    body[data-theme="light"] .utility-item { background: linear-gradient(180deg, rgba(250,250,250,0.9), rgba(230,230,230,0.9)); color: #111; border-color: rgba(0,0,0,0.12); }

    /* About window */
    .about-window .window-content {
      padding: 16px;
      line-height: 1.5;
      font-size: 14px;
    }
  </style>

  <script>
    (function() {
      const shortcut = document.getElementById('calc-shortcut');
      const win = document.getElementById('calculator-window');
      const titlebar = document.getElementById('calc-drag');
      const closeBtn = win.querySelector('.traffic.close');
      const minimizeBtn = win.querySelector('.traffic.minimize');
      const maximizeBtn = win.querySelector('.traffic.maximize');
      const display = document.getElementById('calc-display');
      const keys = win.querySelector('.keys');

      // Open window
      shortcut.addEventListener('click', () => {
        win.classList.remove('hidden');
        win.focus();
      });

      // Utility bar actions
      function ensureAboutWindow() {
        let about = document.getElementById('about-window');
        if (about) return about;

        about = document.createElement('div');
        about.className = 'window about-window';
        about.id = 'about-window';
        about.style.top = '80px';
        about.style.left = '80px';
        about.style.width = 'min(95vw, 420px)';
        about.innerHTML = `
          <div class="titlebar about-drag">
            <div class="traffic-lights">
              <button class="traffic close" aria-label="Close"></button>
              <button class="traffic minimize" aria-label="Minimize"></button>
              <button class="traffic maximize" aria-label="Maximize"></button>
            </div>
            <div class="title">About This Desktop</div>
          </div>
          <div class="window-content">
            <p><strong>AppOS Portfolio Desktop</strong></p>
            <p>A MacOS-inspired desktop built with vanilla HTML/CSS/JS.</p>
            <ul style="margin: 8px 0 0 16px;">
              <li>Calculator app window</li>
              <li>Shortcut icons to external sites</li>
              <li>Dynamic themes via Light/Dark toggle</li>
            </ul>
          </div>
        `;
        document.body.appendChild(about);

        const bar = about.querySelector('.about-drag');
        const closeBtn = about.querySelector('.traffic.close');
        const minimizeBtn = about.querySelector('.traffic.minimize');
        const maximizeBtn = about.querySelector('.traffic.maximize');

        closeBtn.addEventListener('click', () => about.remove());
        minimizeBtn.addEventListener('click', () => about.style.display = (about.style.display === 'none' ? 'block' : 'none'));
        maximizeBtn.addEventListener('click', () => {
          if (about.dataset.maximized === '1') {
            about.style.top = '80px'; about.style.left = '80px';
            about.style.width = 'min(95vw, 420px)'; about.style.height = '';
            about.dataset.maximized = '0';
          } else {
            about.style.top = '24px'; about.style.left = '24px';
            about.style.width = 'min(98vw, 720px)'; about.style.height = 'auto';
            about.dataset.maximized = '1';
          }
        });

        // Dragging
        (function enableDrag() {
          let offsetX = 0, offsetY = 0, dragging = false;
          bar.addEventListener('mousedown', (e) => {
            dragging = true;
            const rect = about.getBoundingClientRect();
            offsetX = e.clientX - rect.left;
            offsetY = e.clientY - rect.top;
            document.body.style.userSelect = 'none';
          });
          window.addEventListener('mousemove', (e) => {
            if (!dragging) return;
            about.style.left = (e.clientX - offsetX) + 'px';
            about.style.top = (e.clientY - offsetY) + 'px';
          });
          window.addEventListener('mouseup', () => {
            dragging = false;
            document.body.style.userSelect = '';
          });
        })();

        return about;
      }

      function setTheme(mode) {
        document.body.setAttribute('data-theme', mode);
      }

      // Traffic light actions
      closeBtn.addEventListener('click', () => win.classList.add('hidden'));
      minimizeBtn.addEventListener('click', () => win.style.display = (win.style.display === 'none' ? 'block' : 'none'));
      maximizeBtn.addEventListener('click', () => {
        if (win.dataset.maximized === '1') {
          win.style.top = '100px';
          win.style.left = '100px';
          win.style.width = '320px';
          win.style.height = '';
          win.dataset.maximized = '0';
        } else {
          win.style.top = '24px';
          win.style.left = '24px';
          win.style.width = 'min(95vw, 480px)';
          win.style.height = 'auto';
          win.dataset.maximized = '1';
        }
      });

      // Dragging
      (function enableDrag() {
        let offsetX = 0, offsetY = 0, dragging = false;

        titlebar.addEventListener('mousedown', (e) => {
          dragging = true;
          const rect = win.getBoundingClientRect();
          offsetX = e.clientX - rect.left;
          offsetY = e.clientY - rect.top;
          document.body.style.userSelect = 'none';
        });

        window.addEventListener('mousemove', (e) => {
          if (!dragging) return;
          win.style.left = (e.clientX - offsetX) + 'px';
          win.style.top = (e.clientY - offsetY) + 'px';
        });

        window.addEventListener('mouseup', () => {
          dragging = false;
          document.body.style.userSelect = '';
        });
      })();

      // Calculator logic
      let first = null;
      let operator = null;
      let resetOnNextDigit = false;

      function updateDisplay(value) {
        display.value = value.toString().slice(0, 16);
      }

      function inputDigit(d) {
        if (resetOnNextDigit || display.value === '0') {
          updateDisplay(d);
          resetOnNextDigit = false;
        } else {
          updateDisplay(display.value + d);
        }
      }

      function inputDot() {
        if (!display.value.includes('.')) {
          updateDisplay(display.value + '.');
        }
      }

      function setOperator(op) {
        first = parseFloat(display.value);
        operator = op;
        resetOnNextDigit = true;
      }

      function calculate() {
        if (operator === null || first === null) return;
        const second = parseFloat(display.value);
        let result = 0;
        switch (operator) {
          case 'plus': result = first + second; break;
          case 'minus': result = first - second; break;
          case 'multiply': result = first * second; break;
          case 'divide': result = second === 0 ? 'Error' : first / second; break;
        }
        updateDisplay(result);
        first = null;
        operator = null;
        resetOnNextDigit = true;
      }

      function clearAll() {
        first = null; operator = null; resetOnNextDigit = false; updateDisplay('0');
      }

      function toggleSign() {
        if (display.value === '0') return;
        if (display.value.startsWith('-')) updateDisplay(display.value.slice(1));
        else updateDisplay('-' + display.value);
      }

      function percent() {
        updateDisplay(parseFloat(display.value) / 100);
      }

      keys.addEventListener('click', (e) => {
        const t = e.target;
        if (!(t instanceof HTMLElement) || t.tagName !== 'BUTTON') return;
        const dOp = t.dataset.op;
        const action = t.dataset.action;
        const text = t.textContent;

        if (action === 'clear') return clearAll();
        if (action === 'sign') return toggleSign();
        if (action === 'percent') return percent();
        if (action === 'equals') return calculate();

        if (dOp) return setOperator(dOp);

        if (text === '.') return inputDot();
        if (text && /\d/.test(text)) return inputDigit(text);
      });
      // Create Utility Bar DOM
      function initUtilityBar() {
        if (document.getElementById('utility-bar')) return;
        const dock = document.createElement('div');
        dock.className = 'utility-bar';
        dock.id = 'utility-bar';

        // Buttons: Light, Dark, separator, About
        const btnLight = document.createElement('button');
        btnLight.className = 'utility-item';
        btnLight.type = 'button';
        btnLight.title = 'Light Theme';
        btnLight.innerHTML = '<span>Light</span>';

        const btnDark = document.createElement('button');
        btnDark.className = 'utility-item';
        btnDark.type = 'button';
        btnDark.title = 'Dark Theme';
        btnDark.innerHTML = '<span>Dark</span>';

        const sep = document.createElement('div');
        sep.className = 'utility-sep';

        const btnAbout = document.createElement('button');
        btnAbout.className = 'utility-item';
        btnAbout.type = 'button';
        btnAbout.title = 'About';
        btnAbout.innerHTML = '<span>About</span>';

        dock.appendChild(btnLight);
        dock.appendChild(btnDark);
        dock.appendChild(sep);
        dock.appendChild(btnAbout);
        document.body.appendChild(dock);

        // Events
        btnLight.addEventListener('click', () => setTheme('light'));
        btnDark.addEventListener('click', () => setTheme('dark'));
        btnAbout.addEventListener('click', () => {
          const about = ensureAboutWindow();
          // bring to front
          about.style.zIndex = String(Date.now());
        });
      }

      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initUtilityBar);
      } else {
        initUtilityBar();
      }

    })();
  </script>
</body>
</html>
